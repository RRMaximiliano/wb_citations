library(scholar)
library(tidyverse)
# Read IDs ----------------------------------------------------------------
ids <- read_csv("data/authors.csv")
View(ids)
ids <- filter(ids, !is.na(id))
View(ids)
lids <- list(ids$id)
View(lids)
get_pubs <- function(ii) {
df <- get_publications(ii) %>%
mutate(
id = ii
)
}
map(lids, get_pubs)
get_publications(ids$id)
ids %>%
mutate(
data = map(id, ~ get_publications)
)
ids %>%
mutate(
data = map(id, ~ get_publications(.))
)
df <- ids %>%
mutate(
data = map(id, ~ get_publications(.))
)
View(df)
df
df %>%
unnest(data)
ids <- filter(ids, !is.na(id)) %>%
rename(main = author)
df <- ids %>%
mutate(
data = map(id, ~ get_publications(.))
)
df %>%
unnest(data)
df %>%
unnest(data) %>%
view()
df_all <- df %>%
unnest(data)
write_rds(df_all, "data/citations.rds")
write_csv(df_all, "data/citations.csv")
library(scholar)
library(tidyverse)
# Read IDs ----------------------------------------------------------------
ids <- read_csv("data/authors.csv")
ids <- filter(ids, !is.na(id)) %>%
rename(main = author)
df <- ids %>%
mutate(
data = map(id, ~ get_publications(.))
)
df_all <- df %>%
unnest(data)
write_rds(df_all, "data/citations.rds")
write_csv(df_all, "data/citations.csv")
library(scholar)
library(tidyverse)
# Read IDs ----------------------------------------------------------------
ids <- read_csv("data/authors.csv")
ids <- filter(ids, !is.na(id)) %>%
rename(main = author)
df <- ids %>%
mutate(
data = map(id, ~ get_publications(.))
)
df_all <- df %>%
unnest(data)
View(df_all)
library(scholar)
library(tidyverse)
# Read IDs ----------------------------------------------------------------
ids <- read_csv("data/authors.csv")
ids <- filter(ids, !is.na(id)) %>%
rename(main = author)
df <- ids %>%
mutate(
data = map(id, ~ get_publications(.))
)
